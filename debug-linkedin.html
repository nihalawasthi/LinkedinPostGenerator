<!DOCTYPE html>
<html>
<head>
    <title>LinkedIn Selector Debug Helper</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f5f5f5; }
        .info { background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 10px 0; }
        .code { background: #2d2d2d; color: #f8f8f2; padding: 10px; border-radius: 4px; margin: 5px 0; }
        button { background: #0077b5; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 5px; }
        button:hover { background: #005885; }
        .result { background: white; padding: 10px; border-left: 4px solid #0077b5; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ðŸ”§ LinkedIn Selector Debug Helper</h1>
    
    <div class="info">
        <strong>Instructions:</strong><br>
        1. Go to <a href="https://www.linkedin.com/feed/" target="_blank">LinkedIn Feed</a><br>
        2. Press F12 to open DevTools<br>
        3. Copy and paste these commands in the console to debug
    </div>

    <h2>Debug Commands</h2>
    
    <h3>1. Find "Start a post" button</h3>
    <div class="code">
        // Copy this into LinkedIn console
        console.log('=== DEBUGGING START POST BUTTON ===');
        const selectors = [
            '[data-test-id="share-box-trigger"]',
            '[data-testid="share-box-trigger"]', 
            '[data-control-name="share_toggle"]',
            'button[data-control-name="share_toggle"]',
            '[aria-label*="Start a post"]',
            'button[aria-label*="Start a post"]'
        ];
        
        selectors.forEach(selector => {
            const elements = document.querySelectorAll(selector);
            console.log(`Selector "${selector}": found ${elements.length} elements`);
            elements.forEach((el, i) => {
                console.log(`  [${i}] Element:`, el);
                console.log(`  [${i}] Text: "${el.textContent?.trim()}"`, );
                console.log(`  [${i}] Aria-label: "${el.getAttribute('aria-label')}"`);
                console.log(`  [${i}] Visible:`, el.offsetParent !== null);
            });
        });
        
        // Look for any element with "Start" text
        const startElements = Array.from(document.querySelectorAll('*')).filter(el => 
            el.textContent && el.textContent.toLowerCase().includes('start') && 
            (el.tagName === 'BUTTON' || el.getAttribute('role') === 'button')
        );
        console.log('Elements containing "Start":', startElements);
    </div>
    
    <button onclick="copyToClipboard(this.nextElementSibling.textContent)">Copy Command</button>
    <script type="text/plain">
console.log('=== DEBUGGING START POST BUTTON ===');
const selectors = ['[data-test-id="share-box-trigger"]','[data-testid="share-box-trigger"]','[data-control-name="share_toggle"]','button[data-control-name="share_toggle"]','[aria-label*="Start a post"]','button[aria-label*="Start a post"]'];
selectors.forEach(selector => { const elements = document.querySelectorAll(selector); console.log(`Selector "${selector}": found ${elements.length} elements`); elements.forEach((el, i) => { console.log(`  [${i}] Element:`, el); console.log(`  [${i}] Text: "${el.textContent?.trim()}"`); console.log(`  [${i}] Aria-label: "${el.getAttribute('aria-label')}"`); console.log(`  [${i}] Visible:`, el.offsetParent !== null); }); });
const startElements = Array.from(document.querySelectorAll('*')).filter(el => el.textContent && el.textContent.toLowerCase().includes('start') && (el.tagName === 'BUTTON' || el.getAttribute('role') === 'button'));
console.log('Elements containing "Start":', startElements);
    </script>

    <h3>2. Get all buttons on page</h3>
    <div class="code">
        // Copy this to see all buttons
        Array.from(document.querySelectorAll('button')).forEach((btn, i) => {
            console.log(`Button ${i}:`, btn);
            console.log(`  Text: "${btn.textContent?.trim()}"`);
            console.log(`  Aria-label: "${btn.getAttribute('aria-label')}"`);
            console.log(`  Data attributes:`, [...btn.attributes].filter(a => a.name.startsWith('data-')));
        });
    </div>

    <button onclick="copyToClipboard(this.nextElementSibling.textContent)">Copy Command</button>
    <script type="text/plain">
Array.from(document.querySelectorAll('button')).forEach((btn, i) => { console.log(`Button ${i}:`, btn); console.log(`  Text: "${btn.textContent?.trim()}"`); console.log(`  Aria-label: "${btn.getAttribute('aria-label')}"`); console.log(`  Data attributes:`, [...btn.attributes].filter(a => a.name.startsWith('data-'))); });
    </script>

    <h3>3. Find elements with "post" text</h3>
    <div class="code">
        // Copy this to find post-related elements  
        Array.from(document.querySelectorAll('*')).filter(el => 
            (el.textContent && el.textContent.toLowerCase().includes('post')) ||
            (el.getAttribute('aria-label') && el.getAttribute('aria-label').toLowerCase().includes('post'))
        ).forEach((el, i) => {
            console.log(`Post element ${i}:`, el);
            console.log(`  Tag: ${el.tagName}`);
            console.log(`  Text: "${el.textContent?.trim()?.substring(0, 50)}"`);
            console.log(`  Aria-label: "${el.getAttribute('aria-label')}"`);
        });
    </div>

    <button onclick="copyToClipboard(this.nextElementSibling.textContent)">Copy Command</button>
    <script type="text/plain">
Array.from(document.querySelectorAll('*')).filter(el => (el.textContent && el.textContent.toLowerCase().includes('post')) || (el.getAttribute('aria-label') && el.getAttribute('aria-label').toLowerCase().includes('post'))).forEach((el, i) => { console.log(`Post element ${i}:`, el); console.log(`  Tag: ${el.tagName}`); console.log(`  Text: "${el.textContent?.trim()?.substring(0, 50)}"`); console.log(`  Aria-label: "${el.getAttribute('aria-label')}"`); });
    </script>

    <h2>Quick Test</h2>
    <div class="info">
        Try this to test if our extension can find the button:<br>
        1. Go to LinkedIn feed<br>
        2. Reload your extension<br>
        3. Try posting - check console for detailed debug info
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Command copied to clipboard! Paste it in LinkedIn\'s console.');
            });
        }
    </script>
</body>
</html>
